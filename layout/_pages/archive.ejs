<div class="container">
    <div class="main-container">
        <main>

            <div class="timeline">

                <div class="timeline-item">
                    <div class="timeline-left">
                        <div class="timeline-icon"></div>
                    </div>
                    <div class="timeline-content">
                        <div class="tile">
                            <div class="tile-content">
                                <p class="tile-title">
                                    <%= __('counter.archive', site.posts.length) %>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <% var last = 0, year, yearArr = []; %>

                <% page.posts.sort('date', -1).each(function(post) { %>
                <% year = post.date.year(); %>
                <% if (last != year){ %>
                    <% if (yearArr.length != 0){ %>
                    <% } %>
                    <% yearArr.push(year); %>
                    <% last = year; %>
                    <div class="timeline-item">
                        <div class="timeline-left">
                            <div class="timeline-icon icon-lg"></div>
                        </div>
                        <div class="timeline-content">
                            <div class="tile">
                                <div class="tile-content">
                                    <p class="tile-title mb-0 h4">
                                        <%= year %>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-left">
                            <div class="timeline-icon"></div>
                        </div>
                        <div class="timeline-content">
                            <div class="tile">
                                <div class="tile-content">
                                    <span class="tile-subtitle text-gray mb-1"><%= date(post.date, 'MM-DD') %></span>
                                    <a href="<%- url_for(post.path) %>" class="timeline-tile-title ml-1" rel="bookmark"><span class="tile-title"><%- post.title %></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                <% } else { %>
                    <div class="timeline-item">
                        <div class="timeline-left">
                            <div class="timeline-icon"></div>
                        </div>
                        <div class="timeline-content">
                            <div class="tile">
                                <div class="tile-content">
                                    <span class="tile-subtitle text-gray mb-1"><%= date(post.date, 'MM-DD') %></span>
                                    <a href="<%- url_for(post.path) %>" class="timeline-tile-title ml-1" rel="bookmark"><span class="tile-title"><%- post.title %></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                <% } %>
                <% }) %>

            </div>

        </main>
        <%- partial('_partial/pagination') %>
    </div>
</div>